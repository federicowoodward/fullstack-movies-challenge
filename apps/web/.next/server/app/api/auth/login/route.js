"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},524:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2483:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var a={};s.r(a),s.d(a,{POST:()=>c});var n=s(7370),o=s(5317),r=s(2579),i=s(6567),p=s(7211);async function c(e){let t=await e.json(),s=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.text(),n=a?JSON.parse(a):void 0;if(!s.ok||!n?.data?.token||!n?.data?.refreshToken){let e=i.NextResponse.json(n??{success:!1,message:"Login failed",data:null},{status:s.status});return(0,p.Wx)(e),e}let o=new i.NextResponse(null,{status:204});return(0,p.BV)(o,{accessToken:n.data.token,refreshToken:n.data.refreshToken}),o}let u=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"C:\\Users\\Fede\\Desktop\\proyectos_activos\\fullstack-challenge\\apps\\web\\app\\api\\auth\\login\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=u,x="/api/auth/login/route";function g(){return(0,r.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},7211:(e,t,s)=>{s.d(t,{BV:()=>r,Wx:()=>i,te:()=>o}),s(719);let a=process.env.AUTH_COOKIE_ACCESS??"mt_access",n=process.env.AUTH_COOKIE_REFRESH??"mt_refresh",o={access:a,refresh:n};function r(e,t,s={}){let{accessToken:o,refreshToken:r}=t;e.cookies.set(a,o,{httpOnly:!0,secure:!0,sameSite:"lax",path:"/",maxAge:s.maxAge??900}),r&&e.cookies.set(n,r,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",maxAge:604800})}function i(e){e.cookies.set(a,"",{httpOnly:!0,path:"/",maxAge:0}),e.cookies.set(n,"",{httpOnly:!0,path:"/",maxAge:0})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[910,719,145],()=>s(2483));module.exports=a})();