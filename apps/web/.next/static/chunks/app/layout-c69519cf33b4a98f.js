(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4948:function(e,t,n){Promise.resolve().then(n.bind(n,210)),Promise.resolve().then(n.t.bind(n,4486,23))},210:function(e,t,n){"use strict";n.d(t,{Providers:function(){return u}});var r=n(9566),o=n(3878),i=n(8686),s=n(5538);let a={fetcher:async e=>{let t=await (0,s.SC)(e);if(!t.ok){var n;let e=await t.json().catch(()=>({})),r=Error(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"Request failed");throw r.status=t.status,r.info=e,r}return t.json()},revalidateOnFocus:!1,shouldRetryOnError:!1};function u(e){let{children:t}=e;return(0,r.jsx)(i.J$,{value:a,children:(0,r.jsx)(o.V,{children:t})})}},3878:function(e,t,n){"use strict";n.d(t,{V:function(){return c},p:function(){return d}});var r=n(9566),o=n(3157),i=n.n(o),s=n(8590),a=n(3372);let u=(0,s.createContext)(void 0),l={info:"border-slate-200 bg-white text-slate-900",success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800"};function c(e){let{children:t}=e,[n,o]=(0,s.useState)([]),c=(0,s.useCallback)(e=>{let{title:t,description:n,variant:r="info",duration:i=3e3}=e,s=Date.now()+Math.floor(1e3*Math.random());o(e=>[...e,{id:s,title:t,description:n,variant:r}]),window.setTimeout(()=>{o(e=>e.filter(e=>e.id!==s))},i)},[]),d=(0,s.useMemo)(()=>({toast:c}),[c]);return(0,r.jsxs)(u.Provider,{value:d,children:[t,"undefined"!=typeof document&&(0,a.createPortal)((0,r.jsx)("div",{className:"pointer-events-none fixed bottom-4 right-4 flex w-80 flex-col gap-3",children:n.map(e=>(0,r.jsxs)("div",{className:i()("pointer-events-auto rounded-lg border px-4 py-3 shadow-lg transition-all",l[e.variant]),children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:e.title}),e.description?(0,r.jsx)("p",{className:"mt-1 text-sm opacity-80",children:e.description}):null]},e.id))}),document.body)]})}function d(){let e=(0,s.useContext)(u);if(!e)throw Error("useToast must be used within a ToastProvider");return e.toast}},5538:function(e,t,n){"use strict";n.d(t,{SC:function(){return o},WD:function(){return a},tD:function(){return s}}),n(6555);class r extends Error{constructor(){super("Unauthorized"),this.name="UnauthorizedError"}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=()=>fetch(e,{...t,credentials:"include",headers:{...t.headers,...t.body?{"Content-Type":"application/json"}:{}}}),o=await n();if(401!==o.status||204===(await fetch("/api/auth/refresh",{method:"POST",credentials:"include"})).status&&401!==(o=await n()).status)return o;throw window.location.href="/login",new r}async function i(e,t){let n=await o(e,t),r=await n.text(),i=r?JSON.parse(r):{};if(!n.ok){var s;let e=Error(null!==(s=null==i?void 0:i.message)&&void 0!==s?s:"Request failed");throw e.status=n.status,e}return i}function s(e){let t=new URLSearchParams;(null==e?void 0:e.genre)&&t.set("genre",e.genre),(null==e?void 0:e.sort)&&t.set("sort",e.sort);let n=t.toString();return n?"/api/movies?".concat(n):"/api/movies"}async function a(e){return await i("/api/movies",{method:"POST",body:JSON.stringify(e)})}},4486:function(){}},function(e){e.O(0,[455,43,977,844,744],function(){return e(e.s=4948)}),_N_E=e.O()}]);